# mkwpp-api-rust
Faster non-Minimum Viable Product API

## Setup
First off, log into the postgres user. You want to create a database (to install postgres, visit [this link](https://www.postgresql.org/download/)):
```bash
createdb database_name
```
You can then log out of the postgres user.

Build the executable with build.sh.

Run the executable to generate the `.env` file. This is automatically regenerated by the program on start, so do not mess with it.

With `cargo` (to install it, visit [this link](https://rustup.rs/)) you want to download `sqlx-api`:
```bash
cargo install sqlx-cli
```

To run migrations, you'll have to type
```bash
sqlx database setup --source db/migrations
```

To import Fixtures instead, you should run the executable with the arguments 'tables old' for Fixtures created by the old Django Database

```bash
./mkwpp-api-rust import old
```

## Extra info
Not everything is actually stored in PSQL like the Python+Django backend, as that's not actually needed (how often will we actually change the `cups` table, lets be real).

This will be actually faster, by the nature of not being an interpreted language.
